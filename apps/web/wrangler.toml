# Happy Vue Web Application - Cloudflare Workers Configuration
#
# This deploys the Vue.js SPA to Cloudflare Workers using static assets.
# The [assets] section enables SPA routing where unmatched routes
# serve index.html for client-side routing to handle.

name = "happy-vue-web"
compatibility_date = "2025-01-01"

# Static assets configuration for SPA
# Vite builds to ./dist by default
[assets]
directory = "./dist"
not_found_handling = "single-page-application"

#############################
# Development Environment
#############################
[env.development]
name = "happy-vue-web-dev"
vars = { ENVIRONMENT = "development" }

[env.development.observability]
[env.development.observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true

#############################
# Production Environment
#############################
[env.production]
name = "happy-vue-web"
vars = { ENVIRONMENT = "production" }

[env.production.observability]
[env.production.observability.logs]
enabled = true
head_sampling_rate = 0.1
invocation_logs = true

#############################
# Preview Environment (PRs)
#############################
[env.preview]
name = "happy-vue-web-preview"
vars = { ENVIRONMENT = "preview" }

[env.preview.observability]
[env.preview.observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
