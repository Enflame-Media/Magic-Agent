# frozen_string_literal: true

# Matchfile - iOS code signing configuration
# For more information: https://docs.fastlane.tools/actions/match/

# Match uses a private git repository to store and sync certificates
# and provisioning profiles across your team and CI/CD systems.

# Git repository for storing certificates and profiles
# This should be a PRIVATE repository
git_url(ENV["MATCH_GIT_URL"])

# Storage mode - git is recommended for teams
storage_mode("git")

# App identifier(s) to manage
app_identifier(["com.enflamemedia.happy"])

# Username for Apple Developer Portal
# Prefer using App Store Connect API keys instead
# username("your@email.com")

# Certificate types to manage
# - development: For development/debug builds
# - appstore: For App Store/TestFlight builds
# - adhoc: For ad-hoc distribution (not through App Store)
type("appstore")

# Team ID for Apple Developer Portal
# team_id("YOUR_TEAM_ID")

# Don't clone the whole git history (faster)
shallow_clone(true)

# Clone branch name (optional, defaults to master)
# git_branch("main")

# Force match to create new certificates/profiles if needed
# Set to true only when you need to regenerate
# force(false)

# Read-only mode for CI - prevents accidental certificate creation
# Set MATCH_READONLY=true in CI environment
readonly(ENV["CI"] == "true" || ENV["MATCH_READONLY"] == "true")

# Platform (ios or macos)
platform("ios")

# Keychain name for CI (optional)
# keychain_name("fastlane_keychain")
