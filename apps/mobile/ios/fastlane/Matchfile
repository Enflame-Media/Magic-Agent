# frozen_string_literal: true

# Copyright (c) 2024-2026 Enflame Media. All rights reserved.
#
# Matchfile - Code signing configuration for Fastlane match
# For more information: https://docs.fastlane.tools/actions/match/
#
# IMPORTANT: Set the following environment variables in CI secrets:
#   MATCH_GIT_URL - Git repository URL for certificate storage
#   APPLE_ID      - Apple Developer account email
#   TEAM_ID       - Apple Developer Portal team ID
#   MATCH_PASSWORD - Passphrase for decrypting certificates

git_url(ENV.fetch("MATCH_GIT_URL", "git@github.com:Enflame-Media/ios-certificates.git"))

storage_mode("git")

type("appstore") # The default type, can be: appstore, adhoc, enterprise, development, developer_id

app_identifier(["media.enflame.happy.ios"])
username(ENV.fetch("APPLE_ID", "apple-id@enflame.media"))

team_id(ENV.fetch("TEAM_ID") { raise "TEAM_ID environment variable is required. Set it in CI secrets or export locally." })

# Keychain configuration for CI
platform("ios")
